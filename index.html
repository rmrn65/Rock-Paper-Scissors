<!DOCTYPE html>
<html>
	<head>
		<title>Rock Paper Scissors</title>
	</head>
	<body>
		<script>
			function GetRandomNumber(){
				var x = Math.random() * 3;
				return Math.ceil(x);
			}
			function ToSymbol(x){
				if(x == 1)
					return "Rock";
				else if(x == 2)
					return "Paper";
				else
					return "Scissors";
			}
			function playerChooses()
			{
				let seleciton = prompt("Choose rock, paper or scissors");
				//if it refuses to choose
				if(!seleciton){
					console.log("You need to pick rock, paper or scissors");
					return false;
				}
				if(seleciton.toLowerCase() == "rock")
					return "Rock";
				else if(seleciton.toLowerCase() == "paper")
					return "Paper";
				else if(seleciton.toLowerCase() == "scissors")
					return "Scissors";
				else
				{
					console.log("You need to pick rock, paper or scissors");
					return false;
				}
			}
			function playGameRound(){
				var player = playerChooses();
				while(player == false){
					player = playerChooses();
				}
				var ai = ToSymbol(GetRandomNumber());
				if(player == "Rock" )
				{
					if(ai == "Rock")
						return "Tie";
					else if(ai == "Scissors")
						return "You win!";
					else
						return "You lose!";
				}
				else if(player == "Paper")
				{
					if(ai == "Rock")
						return "You win!";
					else if(ai == "Scissors")
						return "You lose!";
					else
						return "Tie";
				}
				else
				{
					if(ai == "Rock")
						return "You lose!";
					else if(ai == "Scissors")
						return "Tie";
					else
						return "You win!";
				}
			}
			function game(){
				var scorePlayer = 0;
				var scoareAI = 0;
				while(scorePlayer != 3 && scoareAI != 3){
					var result = playGameRound();
					if(result == "You win!")
						scorePlayer += 1;
					else if(result == "You lose!")
						scoareAI += 1;
					console.log(result + " The score is " + scorePlayer + " - " + scoareAI);
				}
				if(scorePlayer == 3)
					return "Game finished, you won!";
				else
					return "Game finished, you lost!";
			}
			console.log(game());
		</script>
	</body>
</html>